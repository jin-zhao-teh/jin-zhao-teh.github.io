<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Element Training - Atomic Numbers & Electron Configurations</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .training-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .periodic-table {
            flex: 2;
            min-width: 600px;
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .current-element {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
        }
        
        .element-box {
            display: inline-block;
            width: 120px;
            height: 120px;
            margin: 0 auto;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        
        .element-box:hover {
            transform: scale(1.05);
        }
        
        .symbol {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .name {
            font-size: 1rem;
            font-weight: normal;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .mode-btn.active {
            background-color: #2c3e50;
            font-weight: bold;
        }
        
        .group-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
            justify-content: center;
        }
        
        .group-btn {
            background-color: #95a5a6;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .group-btn.active {
            background-color: #e74c3c;
            font-weight: bold;
        }
        
        .input-section {
            margin: 30px 0;
            text-align: center;
        }
        
        input[type="number"], input[type="text"] {
            width: 250px;
            padding: 12px;
            font-size: 1.2rem;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            text-align: center;
            margin-right: 10px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        #new-element {
            background-color: #2ecc71;
        }
        
        #new-element:hover {
            background-color: #27ae60;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        
        .stat-box {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .table-container {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 4px;
            margin-top: 20px;
        }
        
        .table-element {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, filter 0.2s;
        }
        
        .table-element:hover {
            transform: scale(1.1);
            filter: brightness(1.1);
            z-index: 1;
        }
        
        .table-number {
            font-size: 0.6rem;
            margin-bottom: 2px;
        }
        
        .table-symbol {
            font-size: 0.9rem;
        }
        
        .empty {
            background-color: transparent;
            border: none;
        }
        
        /* Element group colors */
        .group-1 { background-color: #ff9999; }
        .group-2 { background-color: #ffde99; }
        .group-3 { background-color: #ffff99; }
        .group-4 { background-color: #ccff99; }
        .group-5 { background-color: #99ff99; }
        .group-6 { background-color: #99ffcc; }
        .group-7 { background-color: #99ffff; }
        .group-8 { background-color: #ccffff; }
        .group-9 { background-color: #ccccff; }
        .group-10 { background-color: #ffccff; }
        .group-11 { background-color: #ff99cc; }
        .group-12 { background-color: #ffcccc; }
        .group-13 { background-color: #e6e6fa; }
        .group-14 { background-color: #d8bfd8; }
        .group-15 { background-color: #eee8aa; }
        .group-16 { background-color: #f0e68c; }
        .group-17 { background-color: #fafad2; }
        .group-18 { background-color: #fffacd; }
        
        .lanthanide { background-color: #ffb6c1; }
        .actinide { background-color: #ffa07a; }
        
        .current-highlight {
            box-shadow: 0 0 0 3px #e74c3c;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }
        
        .notation-guide {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .auto-progress {
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        @media (max-width: 950px) {
            .container {
                flex-direction: column;
            }
            
            .periodic-table {
                min-width: 100%;
            }
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>Element Training</h1>
        <p class="subtitle">Practice atomic numbers, electron configurations, and valence electrons</p>
    </header>
    
    <div class="container">
        <section class="training-section">
            <h2>Training Area</h2>
            
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="atomic">Atomic Number</button>
                <button class="mode-btn" data-mode="shell">Electron Shells</button>
                <button class="mode-btn" data-mode="orbital">Orbital Notation</button>
                <button class="mode-btn" data-mode="valence">Valence Electrons</button>
            </div>
            
            <p>Select group to practice:</p>
            <div class="group-selector">
                <button class="group-btn active" data-group="all">All</button>
                <button class="group-btn" data-group="1">1</button>
                <button class="group-btn" data-group="2">2</button>
                <button class="group-btn" data-group="3">3</button>
                <button class="group-btn" data-group="4">4</button>
                <button class="group-btn" data-group="5">5</button>
                <button class="group-btn" data-group="6">6</button>
                <button class="group-btn" data-group="7">7</button>
                <button class="group-btn" data-group="8">8</button>
                <button class="group-btn" data-group="9">9</button>
                <button class="group-btn" data-group="10">10</button>
                <button class="group-btn" data-group="11">11</button>
                <button class="group-btn" data-group="12">12</button>
                <button class="group-btn" data-group="13">13</button>
                <button class="group-btn" data-group="14">14</button>
                <button class="group-btn" data-group="15">15</button>
                <button class="group-btn" data-group="16">16</button>
                <button class="group-btn" data-group="17">17</button>
                <button class="group-btn" data-group="18">18</button>
            </div>
            
            <p id="prompt-text">Identify the atomic number of the displayed element:</p>
            
            <div class="current-element">
                <div id="element-display" class="element-box group-1">
                    <div class="symbol">H</div>
                    <div class="name">Hydrogen</div>
                </div>
            </div>
            
            <div class="input-section">
                <input type="number" id="answer-input" min="1" max="118" placeholder="Enter number">
                <button id="check-answer">Check Answer</button>
                <button id="new-element">New Element</button>
            </div>
            
            <div class="auto-progress">
                <input type="checkbox" id="auto-next" checked>
                <label for="auto-next">Auto advance after answer (2 seconds)</label>
            </div>
            
            <div id="feedback" class="feedback"></div>
            
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="correct-count">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="total-count">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="accuracy">0%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
            </div>
        </section>
        
        <section class="periodic-table">
            <h2>Periodic Table Reference</h2>
            <p>Click on an element to practice it</p>
            <div class="table-container" id="periodic-table">
                <!-- Periodic table will be generated by JavaScript -->
            </div>
        </section>
    </div>
    
    <footer>
        <p>Practice your knowledge of the periodic table elements and their properties</p>
    </footer>

    <script>
        // Element data with electron configurations
        const elements = [
            { number: 1, symbol: "H", name: "Hydrogen", group: 1, period: 1, 
              shells: "1", orbital: "1s¹", valence: 1 },
            { number: 2, symbol: "He", name: "Helium", group: 18, period: 1, 
              shells: "2", orbital: "1s²", valence: 2 },
            { number: 3, symbol: "Li", name: "Lithium", group: 1, period: 2, 
              shells: "2,1", orbital: "1s² 2s¹", valence: 1 },
            { number: 4, symbol: "Be", name: "Beryllium", group: 2, period: 2, 
              shells: "2,2", orbital: "1s² 2s²", valence: 2 },
            { number: 5, symbol: "B", name: "Boron", group: 13, period: 2, 
              shells: "2,3", orbital: "1s² 2s² 2p¹", valence: 3 },
            { number: 6, symbol: "C", name: "Carbon", group: 14, period: 2, 
              shells: "2,4", orbital: "1s² 2s² 2p²", valence: 4 },
            { number: 7, symbol: "N", name: "Nitrogen", group: 15, period: 2, 
              shells: "2,5", orbital: "1s² 2s² 2p³", valence: 5 },
            { number: 8, symbol: "O", name: "Oxygen", group: 16, period: 2, 
              shells: "2,6", orbital: "1s² 2s² 2p⁴", valence: 6 },
            { number: 9, symbol: "F", name: "Fluorine", group: 17, period: 2, 
              shells: "2,7", orbital: "1s² 2s² 2p⁵", valence: 7 },
            { number: 10, symbol: "Ne", name: "Neon", group: 18, period: 2, 
              shells: "2,8", orbital: "1s² 2s² 2p⁶", valence: 8 },
            { number: 11, symbol: "Na", name: "Sodium", group: 1, period: 3, 
              shells: "2,8,1", orbital: "1s² 2s² 2p⁶ 3s¹", valence: 1 },
            { number: 12, symbol: "Mg", name: "Magnesium", group: 2, period: 3, 
              shells: "2,8,2", orbital: "1s² 2s² 2p⁶ 3s²", valence: 2 },
            { number: 13, symbol: "Al", name: "Aluminum", group: 13, period: 3, 
              shells: "2,8,3", orbital: "1s² 2s² 2p⁶ 3s² 3p¹", valence: 3 },
            { number: 14, symbol: "Si", name: "Silicon", group: 14, period: 3, 
              shells: "2,8,4", orbital: "1s² 2s² 2p⁶ 3s² 3p²", valence: 4 },
            { number: 15, symbol: "P", name: "Phosphorus", group: 15, period: 3, 
              shells: "2,8,5", orbital: "1s² 2s² 2p⁶ 3s² 3p³", valence: 5 },
            { number: 16, symbol: "S", name: "Sulfur", group: 16, period: 3, 
              shells: "2,8,6", orbital: "1s² 2s² 2p⁶ 3s² 3p⁴", valence: 6 },
            { number: 17, symbol: "Cl", name: "Chlorine", group: 17, period: 3, 
              shells: "2,8,7", orbital: "1s² 2s² 2p⁶ 3s² 3p⁵", valence: 7 },
            { number: 18, symbol: "Ar", name: "Argon", group: 18, period: 3, 
              shells: "2,8,8", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶", valence: 8 },
            { number: 19, symbol: "K", name: "Potassium", group: 1, period: 4, 
              shells: "2,8,8,1", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 4s¹", valence: 1 },
            { number: 20, symbol: "Ca", name: "Calcium", group: 2, period: 4, 
              shells: "2,8,8,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 4s²", valence: 2 },
            { number: 21, symbol: "Sc", name: "Scandium", group: 3, period: 4, 
              shells: "2,8,9,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹ 4s²", valence: 3 },
            { number: 22, symbol: "Ti", name: "Titanium", group: 4, period: 4, 
              shells: "2,8,10,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d² 4s²", valence: 4 },
            { number: 23, symbol: "V", name: "Vanadium", group: 5, period: 4, 
              shells: "2,8,11,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d³ 4s²", valence: 5 },
            { number: 24, symbol: "Cr", name: "Chromium", group: 6, period: 4, 
              shells: "2,8,13,1", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d⁵ 4s¹", valence: 6 },
            { number: 25, symbol: "Mn", name: "Manganese", group: 7, period: 4, 
              shells: "2,8,13,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d⁵ 4s²", valence: 7 },
            { number: 26, symbol: "Fe", name: "Iron", group: 8, period: 4, 
              shells: "2,8,14,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d⁶ 4s²", valence: 8 },
            { number: 27, symbol: "Co", name: "Cobalt", group: 9, period: 4, 
              shells: "2,8,15,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d⁷ 4s²", valence: 9 },
            { number: 28, symbol: "Ni", name: "Nickel", group: 10, period: 4, 
              shells: "2,8,16,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d⁸ 4s²", valence: 10 },
            { number: 29, symbol: "Cu", name: "Copper", group: 11, period: 4, 
              shells: "2,8,18,1", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s¹", valence: 11 },
            { number: 30, symbol: "Zn", name: "Zinc", group: 12, period: 4, 
              shells: "2,8,18,2", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s²", valence: 12 },
            { number: 31, symbol: "Ga", name: "Gallium", group: 13, period: 4, 
              shells: "2,8,18,3", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p¹", valence: 3 },
            { number: 32, symbol: "Ge", name: "Germanium", group: 14, period: 4, 
              shells: "2,8,18,4", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p²", valence: 4 },
            { number: 33, symbol: "As", name: "Arsenic", group: 15, period: 4, 
              shells: "2,8,18,5", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p³", valence: 5 },
            { number: 34, symbol: "Se", name: "Selenium", group: 16, period: 4, 
              shells: "2,8,18,6", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p⁴", valence: 6 },
            { number: 35, symbol: "Br", name: "Bromine", group: 17, period: 4, 
              shells: "2,8,18,7", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p⁵", valence: 7 },
            { number: 36, symbol: "Kr", name: "Krypton", group: 18, period: 4, 
              shells: "2,8,18,8", orbital: "1s² 2s² 2p⁶ 3s² 3p⁶ 3d¹⁰ 4s² 4p⁶", valence: 8 },
        ];

        // Track current element, mode, and statistics
        let currentElement = null;
        let currentMode = "atomic";
        let currentGroup = "all";
        let correctAnswers = 0;
        let totalQuestions = 0;
        let autoNextTimer = null;

        // DOM elements
        const elementDisplay = document.getElementById('element-display');
        const answerInput = document.getElementById('answer-input');
        const checkAnswerBtn = document.getElementById('check-answer');
        const newElementBtn = document.getElementById('new-element');
        const feedbackDiv = document.getElementById('feedback');
        const correctCount = document.getElementById('correct-count');
        const totalCount = document.getElementById('total-count');
        const accuracy = document.getElementById('accuracy');
        const periodicTable = document.getElementById('periodic-table');
        const modeButtons = document.querySelectorAll('.mode-btn');
        const groupButtons = document.querySelectorAll('.group-btn');
        const promptText = document.getElementById('prompt-text');
        const autoNextCheckbox = document.getElementById('auto-next');

        // Initialize the app
        function init() {
            generatePeriodicTable();
            selectRandomElement();
            setupEventListeners();
            updateStats();
        }

        // Generate the periodic table layout
        function generatePeriodicTable() {
            // Create the main table (periods 1-4, groups 1-18)
            for (let period = 1; period <= 4; period++) {
                for (let group = 1; group <= 18; group++) {
                    const element = elements.find(el => el.period === period && el.group === group);
                    createTableElement(element, period, group);
                }
            }
        }

        // Create a table element cell
        function createTableElement(element, period, group) {
            const div = document.createElement('div');
            
            if (element) {
                div.className = `table-element group-${element.group}`;
                div.innerHTML = `
                    <div class="table-number">${element.number}</div>
                    <div class="table-symbol">${element.symbol}</div>
                `;
                div.dataset.number = element.number;
                div.addEventListener('click', () => selectSpecificElement(element.number));
            } else {
                div.className = 'table-element empty';
            }
            
            // Adjust position for period 1 (only has groups 1 and 18)
            if (period === 1 && (group < 1 || group > 2)) {
                div.style.gridColumn = group;
                div.style.gridRow = period;
            } else {
                div.style.gridColumn = group;
                div.style.gridRow = period;
            }
            
            periodicTable.appendChild(div);
        }

        // Set up event listeners
        function setupEventListeners() {
            checkAnswerBtn.addEventListener('click', checkAnswer);
            newElementBtn.addEventListener('click', selectRandomElement);
            answerInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
            
            // Mode selector buttons
            modeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    modeButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentMode = button.dataset.mode;
                    updateMode();
                });
            });
            
            // Group selector buttons
            groupButtons.forEach(button => {
                button.addEventListener('click', () => {
                    groupButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentGroup = button.dataset.group;
                    selectRandomElement();
                });
            });
        }

        // Update the UI based on the current mode
        function updateMode() {
            switch(currentMode) {
                case "atomic":
                    promptText.textContent = "Identify the atomic number of the displayed element:";
                    answerInput.type = "number";
                    answerInput.placeholder = "Enter number (1-36)";
                    break;
                case "shell":
                    promptText.textContent = "Identify the electron shell configuration (e.g., 2,8,8):";
                    answerInput.type = "text";
                    answerInput.placeholder = "Enter shell configuration";
                    break;
                case "orbital":
                    promptText.textContent = "Identify the orbital notation (e.g., 1s² 2s² 2p⁶):";
                    answerInput.type = "text";
                    answerInput.placeholder = "Enter orbital notation";
                    break;
                case "valence":
                    promptText.textContent = "Identify the number of valence electrons:";
                    answerInput.type = "number";
                    answerInput.placeholder = "Enter number (1-8)";
                    break;
            }
            
            // Clear input and feedback when switching modes
            answerInput.value = '';
            clearFeedback();
        }

        // Get filtered elements based on current group selection
        function getFilteredElements() {
            if (currentGroup === "all") {
                return elements;
            }
            return elements.filter(el => el.group == currentGroup);
        }

        // Select a random element from the current group
        function selectRandomElement() {
            const filteredElements = getFilteredElements();
            if (filteredElements.length === 0) {
                // If no elements in selected group, show message and return
                feedbackDiv.textContent = "No elements in selected group. Please choose a different group.";
                feedbackDiv.className = "feedback incorrect";
                feedbackDiv.style.display = 'block';
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * filteredElements.length);
            currentElement = filteredElements[randomIndex];
            updateElementDisplay();
            clearFeedback();
            answerInput.value = '';
            answerInput.focus();
            highlightCurrentElement();
        }

        // Select a specific element by atomic number
        function selectSpecificElement(number) {
            currentElement = elements.find(el => el.number === number);
            updateElementDisplay();
            clearFeedback();
            answerInput.value = '';
            answerInput.focus();
            highlightCurrentElement();
        }

        // Update the element display
        function updateElementDisplay() {
            if (!currentElement) return;
            
            elementDisplay.className = `element-box group-${currentElement.group}`;
            elementDisplay.innerHTML = `
                <div class="symbol">${currentElement.symbol}</div>
                <div class="name">${currentElement.name}</div>
            `;
        }

        // Highlight the current element in the periodic table
        function highlightCurrentElement() {
            // Remove highlight from all elements
            document.querySelectorAll('.table-element').forEach(el => {
                el.classList.remove('current-highlight');
            });
            
            // Add highlight to current element
            if (currentElement) {
                const elementCell = document.querySelector(`.table-element[data-number="${currentElement.number}"]`);
                if (elementCell) {
                    elementCell.classList.add('current-highlight');
                }
            }
        }

        // Check the user's answer
        function checkAnswer() {
            if (!currentElement) return;
            
            let userAnswer = answerInput.value.trim();
            let isCorrect = false;
            let correctAnswer = "";
            
            switch(currentMode) {
                case "atomic":
                    isCorrect = parseInt(userAnswer) === currentElement.number;
                    correctAnswer = currentElement.number;
                    break;
                case "shell":
                    isCorrect = userAnswer === currentElement.shells;
                    correctAnswer = currentElement.shells;
                    break;
                case "orbital":
                    // Normalize both answers for comparison (remove spaces and convert to lowercase)
                    const normalizedUser = userAnswer.replace(/\s+/g, '').toLowerCase();
                    const normalizedCorrect = currentElement.orbital.replace(/\s+/g, '').toLowerCase();
                    isCorrect = normalizedUser === normalizedCorrect;
                    correctAnswer = currentElement.orbital;
                    break;
                case "valence":
                    isCorrect = parseInt(userAnswer) === currentElement.valence;
                    correctAnswer = currentElement.valence;
                    break;
            }
            
            totalQuestions++;
            
            if (isCorrect) {
                correctAnswers++;
                showFeedback("Correct! Well done!", true);
            } else {
                showFeedback(`Incorrect. The correct answer is: ${correctAnswer}`, false);
            }
            
            updateStats();
            
            // Auto advance to next element if enabled
            if (autoNextCheckbox.checked) {
                if (autoNextTimer) {
                    clearTimeout(autoNextTimer);
                }
                autoNextTimer = setTimeout(() => {
                    selectRandomElement();
                }, 2000);
            }
        }

        // Show feedback to the user
        function showFeedback(message, isCorrect) {
            feedbackDiv.textContent = message;
            feedbackDiv.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedbackDiv.style.display = 'block';
        }

        // Clear feedback
        function clearFeedback() {
            feedbackDiv.style.display = 'none';
        }

        // Update statistics
        function updateStats() {
            correctCount.textContent = correctAnswers;
            totalCount.textContent = totalQuestions;
            
            const accuracyValue = totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) : 0;
            accuracy.textContent = `${accuracyValue}%`;
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
